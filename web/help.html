<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>MediaTomb Help</title>
<!--   <link rel="StyleSheet" href="/main.css" type="text/css"> -->
</head>
<body style="color: white; background-color: rgb(64, 139, 255);"
 alink="#666666" link="black" vlink="#330033">
<div style="text-align: center;">
<h2><a name="top"></a>Help</h2>
</div>
<div style="text-align: justify;"><big style="font-weight: bold;"><span
 style="color: rgb(0, 0, 0);"> This is a simple overview of the server.<br>
<br>
<span style="font-weight: bold;">Hi, you obviously managed to enable
the UI, so I guess you did read the warning already, for the really
ignorant ones - here it is once again :)</span><br
 style="color: rgb(0, 0, 0);">
</span></big><br>
<big><big><span style="font-weight: bold; text-decoration: underline;">WARNING:</span><span
 style="font-weight: bold;"> NEVER RUN THE SERVER ON YOUR EXTERNAL
INTERFACE, ESPECALLY WHEN THE WEB UI IS ENABLED! THE WEB UI PROVIDES
FULL READ ACCESS TO YOUR HOME DIRECTORY, ALLOWING ANYONE ON THE SAME
LAN TO SEE AND DOWNLOAD YOUR DATA!!!</span></big></big><br>
<br>
<big style="font-weight: bold;"><span style="color: rgb(0, 0, 0);"><span
 style="font-weight: bold;">Table of contents:</span></span></big><big
 style="font-weight: bold;"><span style="color: rgb(0, 0, 0);"></span></big>
<ol style="color: rgb(0, 0, 0);" id="mozToc">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><li
 style="color: rgb(0, 0, 0);"><a style="color: rgb(0, 0, 0);"
 href="#intro">Introduction</a><br>
  </li>
  <li><a href="#browse_db">Browse Database</a></li>
  <li><a href="#browse_fs">Browse Filesystem</a></li>
  <li><a href="#active_item">Active Items</a></li>
  <li><a href="#icon_reference">Icon Reference</a><br>
  </li>
</ol>
<big style="font-weight: bold;"><span style="color: rgb(0, 0, 0);"><span
 style="font-weight: bold;"><br>
<br>
<a name="intro"></a>Now, let's get started!<br
 style="color: rgb(0, 0, 0);">
</span></span></big><big><span style="color: rgb(0, 0, 0);">There are
two browse modes are available: "Browse Database" and "Browse
Filesystem".</span></big><br style="color: rgb(0, 0, 0);">
<big><b style="color: rgb(0, 0, 0);">"Browse Database"</b><span
 style="color: rgb(0, 0, 0);"> allows you to have a look at your
database structure, to modify the items and containers and to remove
them.</span></big><br style="color: rgb(0, 0, 0);">
<big><b style="color: rgb(0, 0, 0);">"Browse Filesystem"</b><span
 style="color: rgb(0, 0, 0);"> allows you to look at the data stored on
your harddrive and add files and directories to the database.</span></big><br
 style="color: rgb(0, 0, 0);">
<br style="color: rgb(0, 0, 0);">
<big><span style="color: rgb(0, 0, 0);"> Let's first have a look at the
common things in both modes. <br>
On the top and bottom of the frame you have a drop-down dialog to
select a number of items per page. Additionally, you have an "Add"
field at the bottom. This allows you to quickly add content, no matter
what or where you are browsing. Just make sure, that you use an
absolute path. Note, thtat when you add a directory, it will be done
recursevly so&nbsp; all itmes and subdirectories will be added as well.<br>
</span></big>
<div style="text-align: right;"><a href="#top"><big><span
 style="color: rgb(0, 0, 0);">Top</span></big></a><br>
<big><span style="color: rgb(0, 0, 0);"></span></big></div>
<big><b style="color: rgb(0, 0, 0);"><a name="browse_db"></a>"Browse
Database"</b><span style="color: rgb(0, 0, 0);"><br>
Here you can inspect the content of your database and modify it.
Browsing it is no different from browsing the server via a UPnP control
point, however here you have some control over you data.<br>
Click the </span></big><big><span style="color: rgb(0, 0, 0);"><img
 alt="" src="icons/stock-edit.png" style="width: 24px; height: 24px;">
icon if you want to modify the properties of your data. Note, that
changes are made only to the server database, the original files on
your system are left untouched.<br>
Click the </span></big><big><span style="color: rgb(0, 0, 0);"><img
 alt="" src="icons/stock-new.png" style="width: 24px; height: 24px;">
icon if you want to add data manually. Usually when you add media, you
either enter a path/filename into the "Add" field, or do it via the
filesystem browser. In this case however, you do everything by hand.
The only really special thing about this is, that this is currently the
only way to add an "Active Item".<br>
Click the </span></big><big><span style="color: rgb(0, 0, 0);"><img
 alt="" src="icons/stock-delete.png" style="width: 24px; height: 24px;">
icon to remove media from the database, containers are removed
recursively. Note, that this only removes media from your database, the
original files and directories on your drive are left untouched. <br>
</span></big>
<div style="text-align: right;"><a href="#top"><big><span
 style="color: rgb(0, 0, 0);">Top</span></big><big><big><span
 style="color: rgb(0, 0, 0);"></span></big></big><br>
</a></div>
<big><span style="color: rgb(0, 0, 0);"><br>
<span style="font-weight: bold;"><a name="browse_fs"></a>"Browse
Filesystem"</span><br>
Here you can browse the contents of your drive and directly add files
or directories to the server. Nothing much to say about this.. just hit
the </span></big><big><span style="color: rgb(0, 0, 0);"><img alt=""
 src="icons/stock-add.png" style="width: 24px; height: 24px;"> and
media will be added to the server. Directories are added recursively.
If something on your filesystem has changed while you were browsing it,
you can hit the </span></big><big><span style="color: rgb(0, 0, 0);"><img
 alt="" src="icons/stock-refresh.png" style="width: 24px; height: 24px;">
icon to refresh the view.<br>
Oh... and I hope you read the security note on top of this page :) If
not READ IT NOW!<br>
</span></big>
<div style="text-align: right;"><a href="#top"><big><span
 style="color: rgb(0, 0, 0);">Top</span></big></a><br>
<big><span style="color: rgb(0, 0, 0);"></span></big></div>
<big><span style="color: rgb(0, 0, 0);"><br>
</span></big><big><span style="color: rgb(0, 0, 0);"><span
 style="font-weight: bold;"><a name="active_item"></a>Active Items<br>
</span>First of all: this feature is not complete and is currently only
experimental... but it works :)<span style="font-weight: bold;"><br>
</span>From UPnP point of view, those are just normal items in the
content directory. However, we allowed ourselves a little trick... when
those items are played (meaning, that an HTTP GET request was done) a
script is executed on the server. The script can be written in any
programming language, there is only one important thing: it reads an
XML from standard input, and writes XML to the standard output. The XML
provides information about the item as well as a special "state". The
script may modify the input XML (change the item name, description,
state) and must write it to stdout. The "state" field is actually just
a string and can be anything you want, the purpose is to let the script
save any auxilary information that is needed for it's purpose. For
example, you could implement "Toggle" items using this feature: for
example, each time you play it, it would change it's name, alternating
between "ON" and "OFF". We included a sample scripts written in Python,
take a look at it (demo_toggle.py) I believe it will be easy to
understand the way this thing works.<br>
Here is an example XML, data that can be changed are marked in white
(when updating the object in the database, only those fields matter)</span></big><big><span
 style="color: rgb(0, 0, 0);"><br>
Script input:</span></big><br>
<div style="margin-left: 40px;"><span style="color: rgb(0, 0, 0);">&lt;item
id="104" parentID="102" restricted="1"&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;dc:title&gt;<span
 style="color: rgb(255, 255, 255);">Turn ON</span>&lt;/dc:title&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp;
&lt;upnp:class&gt;object.item.activeItem&lt;/upnp:class&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;dc:description&gt;<span
 style="color: rgb(255, 255, 255);">Your toggle item is turned OFF,
press PLAY to turn it ON.</span>&lt;/dc:description&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;res
protocolInfo="http-get:*:image/jpeg:*"&gt;http://192.168.0.15:49152/content/media?object%5Fid=104&lt;/res&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;action&gt;<span
 style="color: rgb(255, 255, 255);">/home/someuser/scripts/demo_toggle.py</span>&lt;/action&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;state&gt;<span
 style="color: rgb(255, 255, 255);">0</span>&lt;/state&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;location&gt;<span
 style="color: rgb(255, 255, 255);">/tmp/path/to/picture_1.jpeg</span>&lt;/location&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;mime-type&gt;<span
 style="color: rgb(255, 255, 255);">image/jpeg</span>&lt;/mime-type&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&lt;/item&gt;</span><small><br>
</small></div>
<big><span style="color: rgb(0, 0, 0);"><br>
Script output:<br>
</span></big>
<div style="margin-left: 40px;"><big><span style="color: rgb(0, 0, 0);"></span></big><span
 style="color: rgb(0, 0, 0);">&lt;item id="104" parentID="102"
restricted="1"&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;dc:title&gt;<span
 style="color: rgb(255, 255, 255);">Turn OFF</span>&lt;/dc:title&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp;
&lt;upnp:class&gt;object.item.activeItem&lt;/upnp:class&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;dc:description&gt;<span
 style="color: rgb(255, 255, 255);">Your toggle item is turned ON,
press PLAY to turn it OFF.</span>&lt;/dc:description&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;res
protocolInfo="http-get:*:image/jpeg:*"&gt;http://192.168.0.15:49152/content/media?object%5Fid=104&lt;/res&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;action&gt;</span><span
 style="color: rgb(0, 0, 0);"><span style="color: rgb(255, 255, 255);">/home/someuser/scripts/demo_toggle.py</span></span><span
 style="color: rgb(0, 0, 0);">&lt;/action&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;state&gt;<span
 style="color: rgb(255, 255, 255);">1</span>&lt;/state&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;location&gt;</span><span
 style="color: rgb(0, 0, 0);"><span style="color: rgb(255, 255, 255);">/tmp/path/to/picture_2.jpeg</span></span><span
 style="color: rgb(0, 0, 0);">&lt;/location&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&nbsp; &lt;mime-type&gt;<span
 style="color: rgb(255, 255, 255);">image/jpeg</span>&lt;/mime-type&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);">&lt;/item&gt;</span><small><br>
</small><span style="color: rgb(0, 0, 0);"></span></div>
<div style="text-align: right;"><a href="#top"><big><span
 style="color: rgb(0, 0, 0);">Top</span></big></a><br>
<big><span style="color: rgb(0, 0, 0);"></span></big></div>
<big><span style="color: rgb(0, 0, 0);"><br>
<span style="font-weight: bold;"><a name="icon_reference"></a>Icon
Reference:<br>
<span style="font-weight: bold;"><span style="font-weight: bold;"><span
 style="font-weight: bold;"></span></span></span></span><img alt=""
 src="icons/stock_default-folder.png" style="width: 24px; height: 24px;">
The table row marked with this icon shows you the full path of your
browse (i.e. your current location in the database)<br>
<img alt="" src="icons/stock-new.png" style="width: 24px; height: 24px;">Add
a new Container, Item or Active Item.<br>
<img alt="" src="icons/stock-edit.png"
 style="width: 24px; height: 24px;">Edit an object in the database
(allows you to change name/mime-type, upnp:class).<br>
<img alt="" src="icons/stock-delete.png"
 style="width: 24px; height: 24px;">Remove an object from the server
database (Note: this does not touch the file/directory on your drive,
it only removes the object from the sqlite3 database).<br>
<img alt="" src="icons/stock-add.png" style="width: 24px; height: 24px;">Add
this file or directory to the database.<br>
<img alt="" src="icons/stock-refresh.png"
 style="width: 24px; height: 24px;">Refresh current view of files and
directories.<br>
</span></big>
<div style="text-align: right;"><a href="#top"><big><span
 style="color: rgb(0, 0, 0);">Top</span></big></a><br>
<big><span style="color: rgb(0, 0, 0);"></span></big></div>
<big><span style="color: rgb(0, 0, 0);"><span style="font-weight: bold;"><span
 style="font-weight: bold;"></span><br>
<span style="font-weight: bold;"><span style="font-weight: bold;"></span></span></span><span
 style="font-weight: bold;"><span style="font-weight: bold;"></span><br>
</span></span></big></div>
</body>
</html>
