<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN"
     "http://www.w3.org/TR/html4/frameset.dtd">
<!--*MT*
    
    MediaTomb - http://www.mediatomb.org/
    
    index.html - this file is part of MediaTomb.
    
    Copyright (C) 2005 Gena Batyan <bgeradz@mediatomb.org>,
                       Sergey Bostandzhyan <jin@mediatomb.org>
    Copyright (C) 2006 Gena Batyan <bgeradz@mediatomb.org>,
                       Sergey Bostandzhyan <jin@mediatomb.org>,
                       Leonhard Wimmer <leo@mediatomb.org>
    
    MediaTomb is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
    
    MediaTomb is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    
    You should have received a copy of the GNU General Public License
    along with MediaTomb; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
    
    $Id$
-->
  <html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>M E D I A T O M B</title>
        <link rel="StyleSheet" href="/main.css" type="text/css">
        <script type="text/javascript" language="JavaScript" src="/js/tools.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/md5.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/auth.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/prototype.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/nanotree.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/tree.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/items.js"></script>
        <script type="text/javascript" language="JavaScript">
            <!--
            var SID;
            var TYPE;
            var loggedIn = false;
            function init() {
                Try.these
                (
                    function()
                    {
                        TYPE = getCookie("TYPE");
                        SID = getCookie("SID");
                        lastNodeDbWish = getCookie("lastNodeDb");
                        lastNodeFsWish = getCookie("lastNodeFs");
                    },
                    function()
                    {
                        alert("getCookie-Fehler");
                    }
                );
                if (TYPE!="db" && TYPE!="fs") TYPE="db";
                
                if (SID && SID != null && SID != 'null') checkSID();
                var topDocument = frames["topF"].document;
                if (!SID || SID == null)
                {
                    Element.show(topDocument.getElementById("loginDiv"));
                }
                else
                {
                    loggedIn = true;
                    Element.show(topDocument.getElementById("topDiv"));
                    Element.show(frames["leftF"].document.getElementById("treeDiv"));
                }
                var globalAjaxHandlers = {
                    onCreate: function(){
                        Element.show(topDocument.getElementById("systemWorking"));
                    },
                    
                    onComplete: function() {
                        if(Ajax.activeRequestCount == 0){
                            Element.hide(topDocument.getElementById("systemWorking"));
                        }
                    },
                    onFailure: function() {
                        alert("Server not reachable");
                    }
                };
                Ajax.Responders.register(globalAjaxHandlers);
                itemInit();
                treeInit();
                //updateInfo();
            }
            
            function setType(tmpType)
            {
                TYPE = tmpType;
                setCookie("TYPE", TYPE);
                treeChangeType();
                itemChangeType();
                return undefined;
            }
            
            //-->
        </script>

    </head>
    <frameset rows="25%,*" onload="init();">
        <frame src="top.html" name="topF" frameborder="0" noresize>
        <frameset cols="30%,*">
            <frame src="left.html" name="leftF" frameborder="0">
            <frame src="right.html" name="rightF" frameborder="0">
        </frameset>
    </frameset>
</html>

