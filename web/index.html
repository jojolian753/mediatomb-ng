<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN"
     "http://www.w3.org/TR/html4/frameset.dtd">
  <html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>M E D I A T O M B</title>
        <link rel="StyleSheet" href="/main.css" type="text/css">
        <script type="text/javascript" language="JavaScript" src="/js/tools.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/md5.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/auth.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/prototype.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/nanotree.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/tree.js"></script>
        <script type="text/javascript" language="JavaScript" src="/js/items.js"></script>
        <script type="text/javascript" language="JavaScript">
            <!--
            var SID;
            var TYPE;
            function init() {
                Try.these
                (
                    function()
                    {
                        TYPE = getCookie("TYPE");
                        SID = getCookie("SID");
                    },
                    function()
                    {
                        alert("getCookie-Fehler");
                    }
                );
                if (TYPE!="db" && TYPE!="fs") TYPE="db";
                
                if (SID && SID != null && SID != 'null') checkSID();
                //alert (SID);
                //Element.hide("loginDiv");
                //Element.hide("mainDiv");
                var topDocument = frames["topF"].document;
                if (!SID || SID == null)
                {
                    Element.show(topDocument.getElementById("loginDiv"));
                }
                else
                {
                    Element.show(topDocument.getElementById("topDiv"));
                    Element.show(frames["leftF"].document.getElementById("treeDiv"));
                }
                var globalAjaxHandlers = {
                    onCreate: function(){
                        Element.show(topDocument.getElementById("systemWorking"));
                    },
                    
                    onComplete: function() {
                        if(Ajax.activeRequestCount == 0){
                            Element.hide(topDocument.getElementById("systemWorking"));
                        }
                    },
                    onFailure: function() {
                        alert("Server not reachable");
                    }
                };
                Ajax.Responders.register(globalAjaxHandlers);
                itemInit();
                treeInit();
               
                //updateInfo();
            }
            
            function setType(tmpType)
            {
                TYPE = tmpType;
                setCookie("TYPE", TYPE);
                treeChangeType();
                itemChangeType();
                return undefined;
            }
            
            //-->
        </script>

    </head>
    <frameset rows="25%,*" onload="init();">
        <frame src="top.html" name="topF" frameborder="0" noresize>
        <frameset cols="30%,*">
            <frame src="left.html" name="leftF" frameborder="0">
            <frame src="right.html" name="rightF" frameborder="0">
        </frameset>
    </frameset>
</html>

